@model IEnumerable<MVCApp.Mans>

<script type="text/javascript">
        $("#txtSearch").auto
</script>

@if (@HttpContext.Current.User.Identity.IsAuthenticated)
{
    <p>
        <a href="/Mans/Create" type="button" class="btn btn-primary" data-toggle="modal" data-target="#ModalWindow">Добавить работника</a>
        @using (@Html.BeginForm())
        {
            @Html.TextBox("searchBox", null, new { id="txtSearch" })
            <input type="submit" class="btn-default" value="Найти" />
        }
        @*@Html.ActionLink("Create New", "Create")*@
    </p>
    <table class="table ">
        <tr>
            <th>
                Фамилия
            </th>
            <th>
                Имя
            </th>
            <th>
                Отчество
            </th>
            <th>
                Должность
            </th>
            <th>
                Возраст
            </th>
            <th>
                Дата рождения
            </th>
            <th>
                Адрес
            </th>
            <th>
                Номер телефона
            </th>
            <th>
                Национальность
            </th>

            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.MiddleName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FirstName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.LastName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PersonalPosition.Description)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Age)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Birthday)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Adress)
                </td>

                @if (item.PhoneNumber == null)
                {
                    <td>Не указано</td>
                }
                else
                {
                    <td>@item.PhoneNumber</td>
                }
                <td>
                    @Html.DisplayFor(modelItem => item.Nationaites.Nationality)
                </td>
                <td>

                    <div class="btn-group">
                        <a href="/Mans/Details/@item.ManID" id="Details" class="btn btn-default btn-xs" name="ManID">Профиль</a>
                        <div class="btn-group">
                            <button type="button" class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                Действия <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li>@Html.ActionLink("Редактировать", "Edit", new { id = item.ManID })</li>
                                <li>
                                    @Html.ActionLink("Удалить", "Delete", new { id = item.ManID })
                                </li>
                            </ul>
                        </div>
                    </div>

                </td>
            </tr>
            }

    </table>
}
else
{
    <div class="alert alert-danger fade in"><strong>Вы не авторизованы!</strong> Анонимным пользователям запрещен просмотр таблиц, пожалуйста авторизуйтесь.</div>
}